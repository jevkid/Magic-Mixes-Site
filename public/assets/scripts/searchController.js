{"v":4,"t":["var searchController = function(){\n\n\tvar module = {};\n\n\tmodule.init = function(){\n    searchController.setupTemplates();\n\t};\n\n\tmodule.setupTemplates = function(){\n\t\tvar apiKey = 'tz1wjg6wvmvezr1o3xv4rom6';\n\t\tvar shopName = 'VelvetFoxStudio';\n\n\t\tvar template = helpers.compileRactive({\n\t\t\ttemplate: 'search',\n\t\t\toutlet: 'search',\n\t\t\tdata: {}\n\t\t});\n\n\t\ttemplate.on('viewToggle', function(target){\n\t\t\ttemplate.toggle(target.keypath + '.viewDetails');\n\t\t});\n\n\t\tvar query = window.location.search.split('?')[1];\n    $.ajax({\n      url: \"https://openapi.etsy.com/v2/shops/\" + shopName + \"/listings/active.js?api_key=\" + apiKey + \"&keywords=\" + query + \"&includes=MainImage&fields=url,price,title,shop_section_id,description&limit=100\",\n      dataType: 'jsonp',\n      success: function(response){\n        template.set('items', response);\n      },\n    });\n\n    template.on('viewAll', function(){\n    \t$.ajax({\n\t      url: \"https://openapi.etsy.com/v2/shops/\" + shopName + \"/listings/active.js?api_key=\" + apiKey + \"&includes=MainImage&fields=url,price,title,shop_section_id,description&limit=100\",\n\t      dataType: 'jsonp',\n\t      success: function(response){\n\t      \tconsole.log(response);\n\t        template.set('items', response);\n\t      },\n\t    });\n    });\n\n\t};\n\n  return module;\n}();\n\n$(document).ready(function() {\n  searchController.init();\n});\n"]}